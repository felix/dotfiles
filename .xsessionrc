#!/bin/sh

hostname=$(hostname -s)

# load resources, to be sure
xrdb -merge "$HOME/.Xresources"

[ "$hostname" = "monk" ] && xset dpms 300 1800 3600
xset s off
xset -b
xsetroot -solid "#000000"

# Source local fonts too
[ -d ~/.fonts ] && xset +fp ~/.fonts/

# Sometimes I need AltGr, make sure it is the right Alt key
[ "$hostname" = "beastie" ] && xmodmap -e "keycode 113 = Alt_R" -e "remove mod1 = Alt_R" -e "add mod3 = Alt_R"

# Add thai and lahu keyboards
setxkbmap -I"$HOME/.xkb -option grp:shifts_toggle,grp_led:scroll" "us,th,lhu" -print |xkbcomp -I"$HOME/.xkb" - "$DISPLAY"
#setxkbmap -I$HOME/.xkb -option grp:shifts_toggle,grp_led:scroll "us,th" -print | xkbcomp -I$HOME/.xkb - $DISPLAY

# Second screen
if [ -x "$(which xrandr)" ]; then
    [ "$hostname" = "monk" ] && xrandr --output HDMI1 --mode 1920x1080 --pos 0x0 --rotate normal --output LVDS1 --mode 1366x768 --pos 232x1080 --rotate normal --output DP1 --off --output VGA1 --off &
    [ "$hostname" = "beastie" ] && xrandr --output DisplayPort-0 --mode 1920x1080 --pos 1920x0 --rotate normal --output DVI-0 --primary --mode 1920x1080 --pos 0x0 --rotate normal &
fi

# Screen
[ -x "$(which xautolock)" ] && xautolock -time 5 -locker "$HOME/bin/lockscreen" &
[ -x "$(which xdimmer)" ] && xdimmer -t 120 &
[ -x "$(which redshift)" ] && redshift -m randr -t 5700:3500 -l -37.8023217:145.1144633 &

# synergy
#[ -x `which synergy` ] && synergy &
#[ -x `which synclient` ] && synclient CoastingSpeed=0 TapButton3=2
#[ -x `which syndaemon` ] && syndaemon -R -K -i 0.5 -d &

# vim: set ft=sh :
