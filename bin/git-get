#!/bin/sh

if [ $# -eq 0 ]; then
printf "Missing repository"
exit 1
fi

GITGETBASE="${GITGETBASE:-$HOME/src}"

# Relative path
eval p=\${$#}

p=${p##*@}
p=${p##https://}
p=${p##http://}
p=${p##git://}
p=${p##ssh://}
p=${p##ftps://}
p=${p##ftp://}
p=${p%%.git}

p=$(printf "$p" |sed -e s@:@/@g)

b="$GITGETBASE/$p"
mkdir -p $(dirname "$b")
git clone $@ "$b"
